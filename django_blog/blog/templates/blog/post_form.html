{% extends "blog/base.html" %}
{% block title %}{% if view.object %}Edit Post{% else %}New Post{% endif %}{% endblock %}
{% block content %}
  <h2>{% if view.object %}Edit Post{% else %}Create Post{% endif %}</h2>
  <form method="post">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <p>
      {{ form.title.label_tag }}<br>
      {{ form.title }}
      {% for error in form.title.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </p>

    <p>
      {{ form.content.label_tag }}<br>
      {{ form.content }}
      {% for error in form.content.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </p>

    <p>
      {{ form.tag_names.label_tag }}<br>
      {{ form.tag_names }}
      {% for error in form.tag_names.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
      <small>Enter commaâ€‘separated tags (e.g., django, backend, tips)</small>
    </p>

    <button type="submit">{% if view.object %}Update{% else %}Create{% endif %}</button>
  </form>

  <p><a href="{% url 'post-list' %}">Back to all posts</a></p>
{% endblock %}